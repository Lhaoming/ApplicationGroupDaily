## 一.死锁

死锁是这样一种情形：多个线程同时被阻塞，它们中的一个或者全部都在等待某个资源被释放。由于线程被无限期地阻塞，因此程序不可能正常终止。

**死锁产生的四个必要条件**：

- 互斥使用，即当资源被一个线程使用(占有)时，别的线程不能使用；
- 不可抢占，资源请求者不能强制从资源占有者手中夺取资源，资源只能由资源占有者主动释放；
- 请求和保持，即当资源请求者在请求其他的资源的同时保持对原有资源的占有；
- 循环等待，即存在一个等待队列：P1占有P2的资源，P2占有P3的资源，P3占有P1的资源。这样就形成了一个等待环路。

当上述四个条件都成立的时候，便形成死锁。当然，死锁的情况下如果打破上述任何一个条件，便可让死锁消失。

## 二.比较wait(),sleep(),yield()

- **wait**()方法则是指当前线程让自己暂时退让出同步资源锁，以便其他正在等待该资源的线程得到该资源进而运行;
- **sleep**()方法只让出了CPU，而并不会释放同步资源锁；可以使低优先级的线程得到执行的机会；
- **yield**()：暂停当前正在执行的线程对象(不能由用户指定暂停多长时间)，并执行其他线程；只能让同优先级的线程有执行的机会。